<%# app/views/courses/_form.html.erb %>
<% form_model = (@place.present? && @course.new_record?) ? [@place, @course] : @course %>

<%= form_with model: form_model, local: true do |f| %>
  <% if @course.errors.any? %>
    <div class="errors" style="color:red;">
      <h4><%= pluralize(@course.errors.count, "error") %> prevented saving:</h4>
      <ul>
        <% @course.errors.full_messages.each do |msg| %>
          <li><%= msg %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div>
    <%= f.label :title %><br>
    <%= f.text_field :title, required: true %>
  </div>

  <div>
    <%= f.label :description %><br>
    <%= f.text_area :description %>
  </div>

  <%# jeśli chcesz, pozwól na zmianę Place (opcjonalne) %>
  <% unless @place %>
    <div>
      <%= f.label :place_id, "Place" %><br>
      <%= f.collection_select :place_id, Place.all, :id, :name, include_blank: true %>
    </div>
  <% end %>

  <div style="margin-top:12px;">
    <%= f.submit %>
  </div>
<% end %>